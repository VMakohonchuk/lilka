Налаштування бібліотеки
=======================

Бібліотека ``lilka`` постачається з рядом вбудованих можливостей, які за замовчуванням увімкнені.

Можливо, вам не подобаються деякі налаштування, які вибрані за замовчуванням. Наприклад, ви хочете вимкнути підтримку Lua, бо не плануєте використовувати цю мову програмування.

Завдяки :term:`PlatformIO` ви можете змінити налаштування, відредагувавши файл `platformio.ini`. Для цього є опція ``build_flags``.

Наприклад, виклик :c:func:`lilka::begin` відображає привітальне зобаження. Воно займає ~140 КБ флеш-пам'яті, а також сповільнює запуск Лілки.
Якщо ви не хочете, щоб це зображення відображалося, ви можете відредагувати файл ``firmware/main/platformio.ini`` та додати наступний рядок:

.. code-block:: ini
    :linenos:
    :emphasize-lines: 7

    [env:v2]
    platform = espressif32
    board = lilka_v2
    framework = arduino
    lib_deps =
        lilka
    build_flags = -D LILKA_NO_SPLASH

Після цього ви повинні перекомпілювати вашу прошивку.

Перелік опцій
-------------

.. c:macro:: LILKA_NO_SPLASH

    Видалити привітальне зображення.

    Пришвидшує запуск Лілки та звільняє ~134 КБ флеш-пам'яті.

.. c:macro:: LILKA_NO_MJS

    Вимкнути підтримку mJS.

    Звільняє ~49 КБ флеш-пам'яті.

.. c:macro:: LILKA_NO_LUA

    Вимкнути підтримку Lua.

    Звільняє ~162 КБ флеш-пам'яті.

Мінімальна конфігурація
-----------------------

Якщо ви хочете вимкнути всі можливості (наприклад, ви хочете використати бібліотеку ``lilka`` без Lua, mJS та привітального зображення), ви можете використати наступний рядок:

.. code-block:: ini
    :linenos:
    :emphasize-lines: 7

    [env:v2]
    platform = espressif32
    board = lilka_v2
    framework = arduino
    lib_deps =
        lilka
    build_flags = -D LILKA_NO_SPLASH -D LILKA_NO_MJS -D LILKA_NO_LUA
